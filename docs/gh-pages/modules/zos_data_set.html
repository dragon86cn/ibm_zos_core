

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>zos_data_set – Create and set attributes for data sets &mdash; IBM Z Core Collection 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Playbooks" href="../playbooks.html" />
    <link rel="prev" title="Modules" href="../modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IBM Z Core Collection
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Using IBM Z Core Collection</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modules.html#module-reference">Module reference</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">zos_data_set – Create and set attributes for data sets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-values">Return Values</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../playbooks.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Community guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community_guides.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community_guides.html#helpful-links">Helpful Links</a></li>
</ul>
<p class="caption"><span class="caption-text">Requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Releases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBM Z Core Collection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>zos_data_set – Create and set attributes for data sets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <!-- User defined GitHub URL -->
              <a href="https://github.com/ansible-collections/ibm_zos_core/blob/dev/plugins/modules/zos_data_set.py" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="zos-data-set-create-and-set-attributes-for-data-sets">
<span id="zos-data-set-module"></span><h1>zos_data_set – Create and set attributes for data sets<a class="headerlink" href="#zos-data-set-create-and-set-attributes-for-data-sets" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id4">Return Values</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Create, delete and set attributes of data sets.</p></li>
<li><p>When forcing data set replacement, contents will not be preserved.</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id2">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>batch</dt><dd><p>Batch can be used to perform operations on multiple data sets in a single module call.</p>
<p>Each item in the list expects the same options as zos_data_set.</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: list</div>
</div>
</dd>
<dt>data_class</dt><dd><p>The data class name (required for SMS-managed data sets)</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>format</dt><dd><p>The format of the data set. (e.g “FB”)</p>
<p>Choices are case-insensitive.</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: FB</div>
<div class="line"><strong>choices</strong>: FB, VB, FBA, VBA, U</div>
</div>
</dd>
<dt>name</dt><dd><p>The name of the data set being managed. (e.g “USER.TEST”)</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>record_length</dt><dd><p>The logical record length. (e.g 80)</p>
<p>For variable data sets, the length must include the 4-byte prefix area.</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: if FB/FBA 80, if VB/VBA 137, if U 0</div>
</div>
</dd>
<dt>replace</dt><dd><p>When <cite>replace</cite> is <cite>true</cite>, and <cite>state</cite> is <cite>present</cite>, existing data set matching name will be replaced.</p>
<p>Replacement is performed by deleting the existing data set and creating a new data set with the desired  attributes in the old data set’s place. This may lead to an inconsistent state if data set creations fails  after the old data set is deleted.</p>
<p>If <cite>replace</cite> is <cite>true</cite>, all data in the original data set will be lost.</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>size</dt><dd><p>The size of the data set (e.g “5M”)</p>
<p>Valid units of size are “K”, “M”, “G”, “CYL” and “TRK”</p>
<p>Note that “CYL” and “TRK” follow size conventions for 3390 disk types (56,664 bytes/TRK &amp; 849,960 bytes/CYL)</p>
<p>The “CYL” and “TRK” units are converted to bytes and rounded up to the nearest “K” measurement.</p>
<p>Ensure there is no space between the numeric size and unit.</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: 5M</div>
</div>
</dd>
<dt>state</dt><dd><p>The final state desired for specified data set.</p>
<p>If <cite>absent</cite>, will ensure the data set is not present on the system. Note that <cite>absent</cite> will not cause <cite>zos_data_set</cite> to fail if data set does not exist as the state did not change.</p>
<p>If <cite>present</cite>, will ensure the data set is present on the system. Note that <cite>present</cite> will not replace an existing data set by default, even when the attributes do not match our desired data set. If replacement behavior is desired, see the options <cite>replace</cite> and <cite>unsafe_writes</cite>.</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: present</div>
<div class="line"><strong>choices</strong>: present, absent</div>
</div>
</dd>
<dt>type</dt><dd><p>The data set type to be used when creating a data set. (e.g “pdse”)</p>
<p>MEMBER expects to be used with an existing partitioned data set.</p>
<p>Choices are case-insensitive.</p>
<div class="line-block">
<div class="line"><strong>retquired</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: ESDS, RRDS, LDS, SEQ, PDS, PDSE, MEMBER</div>
</div>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a sequential data set if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">seq</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a PDS data set if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pds</span>
    <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5M</span>
    <span class="nt">format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fba</span>
    <span class="nt">record_length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Attempt to replace a data set if it exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pds</span>
    <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5M</span>
    <span class="nt">format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">u</span>
    <span class="nt">record_length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>
    <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Attempt to replace a data set if it exists, allow unsafe_writes</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pds</span>
    <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5M</span>
    <span class="nt">format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fb</span>
    <span class="nt">record_length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>
    <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
    <span class="nt">unsafe_writes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create an ESDS data set is it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">esds</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create an RRDS data set with data class MYDATA if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rrds</span>
    <span class="nt">data_class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mydata</span>


<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Delete a data set if it exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Write a member to existing PDS, replace if member exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs(mydata)</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>
    <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Write a member to existing PDS, do not replace if member exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs(mydata)</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Remove a member from existing PDS if it exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs(mydata)</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create multiple partitioned data sets and add one or more members to each</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">batch</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">user.private.libs1</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PDS</span>
        <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5M</span>
        <span class="nt">format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fb</span>
        <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">user.private.libs2</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PDSE</span>
        <span class="nt">size</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10CYL</span>
        <span class="nt">format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fb</span>
        <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
        <span class="nt">unsafe_writes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs1(member1)</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs2(member1)</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>
        <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">user.private.libs2(member2)</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>
</pre></div>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id4">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl>
<dt>original_message</dt><dd><div class="line-block">
<div class="line">The original list of parameters and arguments, plus any defaults used.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>:</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
</dd>
<dt>message</dt><dd><div class="line-block">
<div class="line">The output message that the sample module generates</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>:</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
</dd>
<dt>changed</dt><dd><div class="line-block">
<div class="line">Indicates if any changes were made during module operation.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>:</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../playbooks.html" class="btn btn-neutral float-right" title="Playbooks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../modules.html" class="btn btn-neutral float-left" title="Modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, IBM

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>